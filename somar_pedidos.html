<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Ordena f√°cil y r√°pido">
    <title>Cargando...</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        * { font-family: 'Inter', sans-serif; }
        
        .fade-in { animation: fadeIn 0.3s ease-in; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        
        // =====================================================
        // CONFIGURACI√ìN DE SUPABASE
        // =====================================================
        const SUPABASE_URL = 'TU_SUPABASE_URL';
        const SUPABASE_ANON_KEY = 'TU_SUPABASE_ANON_KEY';
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

        // =====================================================
        // OBTENER SLUG DE LA URL
        // =====================================================
        function getBusinessSlug() {
            // Para desarrollo local: usar par√°metro ?store=slug
            const urlParams = new URLSearchParams(window.location.search);
            const storeParam = urlParams.get('store');
            if (storeParam) return storeParam;

            // Para producci√≥n: extraer de la ruta
            // Ejemplo: https://somtechn.github.io/hub/somar_pedidos/minegocio
            const pathParts = window.location.pathname.split('/');
            return pathParts[pathParts.length - 1] || null;
        }

        // =====================================================
        // COMPONENTE PRINCIPAL
        // =====================================================
        function StoreFront() {
            const [business, setBusiness] = useState(null);
            const [products, setProducts] = useState([]);
            const [categories, setCategories] = useState([]);
            const [loading, setLoading] = useState(true);
            const [error, setError] = useState(null);
            const [carrito, setCarrito] = useState([]);
            const [categoriaActiva, setCategoriaActiva] = useState('Todas');
            const [mostrarCarrito, setMostrarCarrito] = useState(false);
            const [mostrarCheckout, setMostrarCheckout] = useState(false);
            const [datosCliente, setDatosCliente] = useState({
                nombre: '',
                metodoPago: 'Efectivo',
                referencia: '',
                billeteAPagar: ''
            });

            useEffect(() => {
                loadStore();
                
                // Cargar carrito del localStorage
                const carritoGuardado = localStorage.getItem('somar_carrito');
                if (carritoGuardado) {
                    setCarrito(JSON.parse(carritoGuardado));
                }
            }, []);

            useEffect(() => {
                localStorage.setItem('somar_carrito', JSON.stringify(carrito));
            }, [carrito]);

            const loadStore = async () => {
                try {
                    const slug = getBusinessSlug();
                    
                    if (!slug) {
                        setError('No se especific√≥ una tienda');
                        setLoading(false);
                        return;
                    }

                    // Cargar negocio
                    const { data: businessData, error: businessError } = await supabase
                        .from('businesses')
                        .select('*')
                        .eq('slug', slug)
                        .eq('is_active', true)
                        .single();

                    if (businessError || !businessData) {
                        setError('Tienda no encontrada');
                        setLoading(false);
                        return;
                    }

                    setBusiness(businessData);
                    document.title = businessData.business_name;

                    // Cargar productos
                    const { data: productsData } = await supabase
                        .from('products')
                        .select('*, categories(name)')
                        .eq('business_id', businessData.id)
                        .eq('is_available', true)
                        .order('display_order', { ascending: true });

                    setProducts(productsData || []);

                    // Cargar categor√≠as
                    const { data: categoriesData } = await supabase
                        .from('categories')
                        .select('*')
                        .eq('business_id', businessData.id)
                        .eq('is_active', true)
                        .order('display_order', { ascending: true });

                    setCategories(categoriesData || []);
                    setLoading(false);

                } catch (err) {
                    setError('Error al cargar la tienda');
                    setLoading(false);
                }
            };

            const agregarAlCarrito = (producto) => {
                const itemExistente = carrito.find(item => item.id === producto.id);
                
                if (itemExistente) {
                    setCarrito(carrito.map(item =>
                        item.id === producto.id
                            ? { ...item, cantidad: item.cantidad + 1 }
                            : item
                    ));
                } else {
                    setCarrito([...carrito, { ...producto, cantidad: 1 }]);
                }
            };

            const modificarCantidad = (id, delta) => {
                setCarrito(carrito.map(item => {
                    if (item.id === id) {
                        const nuevaCantidad = item.cantidad + delta;
                        return nuevaCantidad > 0 ? { ...item, cantidad: nuevaCantidad } : item;
                    }
                    return item;
                }).filter(item => item.cantidad > 0));
            };

            const eliminarDelCarrito = (id) => {
                setCarrito(carrito.filter(item => item.id !== id));
            };

            const calcularTotal = () => {
                return carrito.reduce((total, item) => total + (parseFloat(item.price) * item.cantidad), 0);
            };

            const conteoProductos = () => {
                return carrito.reduce((total, item) => total + item.cantidad, 0);
            };

            const productosFiltrados = categoriaActiva === 'Todas'
                ? products
                : products.filter(p => p.categories?.name === categoriaActiva);

            const generarMensajeWhatsApp = async () => {
                if (!datosCliente.nombre || !datosCliente.referencia) {
                    alert('Por favor completa todos los campos obligatorios');
                    return;
                }

                if (datosCliente.metodoPago === 'Efectivo' && !datosCliente.billeteAPagar) {
                    alert('Por favor indica con qu√© billete vas a pagar');
                    return;
                }

                // Guardar pedido en la base de datos
                const orderData = {
                    business_id: business.id,
                    customer_name: datosCliente.nombre,
                    customer_phone: '',
                    customer_address: datosCliente.referencia,
                    customer_reference: datosCliente.referencia,
                    items: carrito.map(item => ({
                        product_id: item.id,
                        name: item.name,
                        quantity: item.cantidad,
                        price: item.price
                    })),
                    total_amount: calcularTotal(),
                    payment_method: datosCliente.metodoPago,
                    payment_with_cash: datosCliente.metodoPago === 'Efectivo' ? parseFloat(datosCliente.billeteAPagar) : null,
                    payment_change: datosCliente.metodoPago === 'Efectivo' ? parseFloat(datosCliente.billeteAPagar) - calcularTotal() : null,
                    status: 'pending'
                };

                await supabase.from('orders').insert([orderData]);

                // Generar mensaje de WhatsApp
                let mensaje = `üçΩÔ∏è *NUEVO PEDIDO - ${business.business_name.toUpperCase()}* üçΩÔ∏è\n\n`;
                mensaje += `üë§ *Cliente:* ${datosCliente.nombre}\n`;
                mensaje += `üí≥ *M√©todo de Pago:* ${datosCliente.metodoPago}\n`;
                mensaje += `üìç *Referencia:* ${datosCliente.referencia}\n\n`;
                mensaje += `üìã *DETALLE DEL PEDIDO:*\n`;
                mensaje += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
                
                carrito.forEach(item => {
                    mensaje += `‚Ä¢ ${item.name} x${item.cantidad} - L ${parseFloat(item.price) * item.cantidad}\n`;
                });
                
                mensaje += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
                mensaje += `üí∞ *TOTAL A PAGAR: L ${calcularTotal().toFixed(2)}*\n\n`;
                
                if (datosCliente.metodoPago === 'Efectivo') {
                    mensaje += `üíµ *Paga con:* L ${datosCliente.billeteAPagar}\n`;
                    const cambio = parseFloat(datosCliente.billeteAPagar) - calcularTotal();
                    if (cambio > 0) {
                        mensaje += `üí∏ *Cambio:* L ${cambio.toFixed(2)}\n`;
                    }
                }
                
                mensaje += `\n‚úÖ Pedido generado desde *Somar Hub*`;

                const url = `https://wa.me/${business.whatsapp_number}?text=${encodeURIComponent(mensaje)}`;
                
                setCarrito([]);
                setDatosCliente({
                    nombre: '',
                    metodoPago: 'Efectivo',
                    referencia: '',
                    billeteAPagar: ''
                });
                setMostrarCheckout(false);
                
                window.open(url, '_blank');
            };

            if (loading) {
                return (
                    <div className="min-h-screen flex items-center justify-center bg-gray-50">
                        <div className="text-center">
                            <div className="animate-spin rounded-full h-16 w-16 border-b-2 border-blue-900 mx-auto"></div>
                            <p className="mt-4 text-gray-600">Cargando tienda...</p>
                        </div>
                    </div>
                );
            }

            if (error) {
                return (
                    <div className="min-h-screen flex items-center justify-center bg-gray-50">
                        <div className="text-center">
                            <h1 className="text-4xl font-bold text-gray-800 mb-4">üòï</h1>
                            <h2 className="text-2xl font-bold text-gray-800 mb-2">{error}</h2>
                            <p className="text-gray-600">Verifica que la URL sea correcta</p>
                        </div>
                    </div>
                );
            }

            const primaryColor = business.primary_color || '#1e3a8a';
            const secondaryColor = business.secondary_color || '#10b981';

            return (
                <div className="min-h-screen bg-gray-50 pb-24">
                    {/* Header */}
                    <header className="bg-gradient-to-r text-white sticky top-0 z-40 shadow-lg"
                            style={{ backgroundImage: `linear-gradient(to right, ${primaryColor}, ${primaryColor}dd)` }}>
                        <div className="container mx-auto px-4 py-6">
                            <div className="flex items-center gap-4">
                                {business.logo_url && (
                                    <img 
                                        src={business.logo_url} 
                                        alt={business.business_name}
                                        className="h-16 w-16 rounded-lg object-cover bg-white"
                                    />
                                )}
                                <div className="flex-1">
                                    <h1 className="text-3xl font-bold tracking-tight">{business.business_name}</h1>
                                    {business.description && (
                                        <p className="text-sm opacity-90 mt-1">{business.description}</p>
                                    )}
                                </div>
                            </div>
                        </div>
                    </header>

                    {/* Info Bar */}
                    <div className="bg-white border-b py-3">
                        <div className="container mx-auto px-4">
                            <div className="flex items-center justify-between text-sm">
                                <div className="flex items-center gap-4">
                                    <span>üìç {business.city}</span>
                                    <span>üìû {business.phone_number}</span>
                                </div>
                                <div className="text-emerald-600 font-semibold">
                                    ‚úÖ Abierto
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* Categor√≠as */}
                    <div className="bg-white shadow-sm sticky top-[104px] z-30">
                        <div className="container mx-auto px-4 py-4 overflow-x-auto">
                            <div className="flex gap-2 min-w-max">
                                <button
                                    onClick={() => setCategoriaActiva('Todas')}
                                    className={`px-6 py-2 rounded-full font-medium transition-all ${
                                        categoriaActiva === 'Todas'
                                            ? 'text-white shadow-md'
                                            : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                                    }`}
                                    style={categoriaActiva === 'Todas' ? { backgroundColor: primaryColor } : {}}
                                >
                                    Todas
                                </button>
                                {categories.map(cat => (
                                    <button
                                        key={cat.id}
                                        onClick={() => setCategoriaActiva(cat.name)}
                                        className={`px-6 py-2 rounded-full font-medium transition-all whitespace-nowrap ${
                                            categoriaActiva === cat.name
                                                ? 'text-white shadow-md'
                                                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                                        }`}
                                        style={categoriaActiva === cat.name ? { backgroundColor: primaryColor } : {}}
                                    >
                                        {cat.icon} {cat.name}
                                    </button>
                                ))}
                            </div>
                        </div>
                    </div>

                    {/* Productos */}
                    <div className="container mx-auto px-4 py-6">
                        {productosFiltrados.length === 0 ? (
                            <div className="text-center py-12 text-gray-500">
                                <p className="text-lg">No hay productos disponibles en esta categor√≠a</p>
                            </div>
                        ) : (
                            <div className="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                {productosFiltrados.map(producto => (
                                    <div key={producto.id} className="bg-white rounded-xl shadow-md overflow-hidden fade-in hover:shadow-xl transition-shadow">
                                        {producto.image_url && (
                                            <div className="relative h-48 overflow-hidden bg-gray-200">
                                                <img
                                                    src={producto.image_url}
                                                    alt={producto.name}
                                                    className="w-full h-full object-cover"
                                                />
                                                <div className="absolute top-2 right-2 text-white px-3 py-1 rounded-full text-sm font-bold"
                                                     style={{ backgroundColor: primaryColor }}>
                                                    L {parseFloat(producto.price).toFixed(2)}
                                                </div>
                                            </div>
                                        )}
                                        <div className="p-4">
                                            <h3 className="font-bold text-lg text-gray-800 mb-1">{producto.name}</h3>
                                            {producto.description && (
                                                <p className="text-gray-600 text-sm mb-3">{producto.description}</p>
                                            )}
                                            <button
                                                onClick={() => agregarAlCarrito(producto)}
                                                className="w-full text-white font-semibold py-3 rounded-lg transition-colors shadow-md active:scale-95"
                                                style={{ backgroundColor: secondaryColor }}
                                            >
                                                Agregar al Carrito
                                            </button>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}
                    </div>

                    {/* Bot√≥n Flotante del Carrito */}
                    {conteoProductos() > 0 && (
                        <button
                            onClick={() => setMostrarCarrito(true)}
                            className="fixed bottom-6 right-6 text-white p-5 rounded-full shadow-2xl hover:opacity-90 transition-colors z-50"
                            style={{ backgroundColor: primaryColor }}
                        >
                            <div className="relative">
                                <svg className="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                                </svg>
                                <span className="absolute -top-2 -right-2 text-white text-xs font-bold rounded-full h-6 w-6 flex items-center justify-center"
                                      style={{ backgroundColor: secondaryColor }}>
                                    {conteoProductos()}
                                </span>
                            </div>
                        </button>
                    )}

                    {/* Modal del Carrito */}
                    {mostrarCarrito && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-end sm:items-center justify-center p-4">
                            <div className="bg-white rounded-t-3xl sm:rounded-3xl w-full max-w-2xl max-h-[90vh] overflow-hidden fade-in">
                                <div className="text-white p-6 flex justify-between items-center"
                                     style={{ backgroundColor: primaryColor }}>
                                    <h2 className="text-2xl font-bold">Tu Carrito</h2>
                                    <button
                                        onClick={() => setMostrarCarrito(false)}
                                        className="text-white hover:bg-white hover:bg-opacity-20 p-2 rounded-full transition"
                                    >
                                        <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                                        </svg>
                                    </button>
                                </div>
                                
                                <div className="overflow-y-auto max-h-96 p-4">
                                    {carrito.length === 0 ? (
                                        <div className="text-center py-12 text-gray-500">
                                            <p className="text-lg">Tu carrito est√° vac√≠o</p>
                                        </div>
                                    ) : (
                                        carrito.map(item => (
                                            <div key={item.id} className="flex items-center gap-4 bg-gray-50 p-4 rounded-lg mb-3">
                                                {item.image_url && (
                                                    <img src={item.image_url} alt={item.name} className="w-20 h-20 object-cover rounded-lg" />
                                                )}
                                                <div className="flex-1">
                                                    <h3 className="font-semibold text-gray-800">{item.name}</h3>
                                                    <p className="font-bold" style={{ color: primaryColor }}>
                                                        L {parseFloat(item.price).toFixed(2)}
                                                    </p>
                                                </div>
                                                <div className="flex items-center gap-2">
                                                    <button
                                                        onClick={() => modificarCantidad(item.id, -1)}
                                                        className="bg-gray-300 hover:bg-gray-400 text-gray-800 w-8 h-8 rounded-full font-bold"
                                                    >
                                                        -
                                                    </button>
                                                    <span className="font-bold text-lg w-8 text-center">{item.cantidad}</span>
                                                    <button
                                                        onClick={() => modificarCantidad(item.id, 1)}
                                                        className="text-white w-8 h-8 rounded-full font-bold"
                                                        style={{ backgroundColor: secondaryColor }}
                                                    >
                                                        +
                                                    </button>
                                                </div>
                                                <button
                                                    onClick={() => eliminarDelCarrito(item.id)}
                                                    className="text-red-500 hover:text-red-700"
                                                >
                                                    <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                                    </svg>
                                                </button>
                                            </div>
                                        ))
                                    )}
                                </div>

                                {carrito.length > 0 && (
                                    <div className="border-t p-6 bg-gray-50">
                                        <div className="flex justify-between items-center mb-4">
                                            <span className="text-xl font-bold text-gray-800">Total:</span>
                                            <span className="text-3xl font-bold" style={{ color: primaryColor }}>
                                                L {calcularTotal().toFixed(2)}
                                            </span>
                                        </div>
                                        <button
                                            onClick={() => {
                                                setMostrarCarrito(false);
                                                setMostrarCheckout(true);
                                            }}
                                            className="w-full text-white font-bold py-4 rounded-xl transition-colors shadow-lg"
                                            style={{ backgroundColor: secondaryColor }}
                                        >
                                            Finalizar Pedido
                                        </button>
                                    </div>
                                )}
                            </div>
                        </div>
                    )}

                    {/* Modal de Checkout */}
                    {mostrarCheckout && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-end sm:items-center justify-center p-4">
                            <div className="bg-white rounded-t-3xl sm:rounded-3xl w-full max-w-2xl max-h-[90vh] overflow-y-auto fade-in">
                                <div className="text-white p-6 flex justify-between items-center sticky top-0"
                                     style={{ backgroundColor: primaryColor }}>
                                    <h2 className="text-2xl font-bold">Datos de Entrega</h2>
                                    <button
                                        onClick={() => setMostrarCheckout(false)}
                                        className="text-white hover:bg-white hover:bg-opacity-20 p-2 rounded-full"
                                    >
                                        <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                                        </svg>
                                    </button>
                                </div>

                                <div className="p-6 space-y-6">
                                    <div>
                                        <label className="block text-gray-700 font-semibold mb-2">Nombre Completo *</label>
                                        <input
                                            type="text"
                                            value={datosCliente.nombre}
                                            onChange={(e) => setDatosCliente({...datosCliente, nombre: e.target.value})}
                                            className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none transition-colors"
                                            style={{ borderColor: datosCliente.nombre ? primaryColor : '' }}
                                            placeholder="Ej: Juan P√©rez"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-gray-700 font-semibold mb-2">M√©todo de Pago *</label>
                                        <select
                                            value={datosCliente.metodoPago}
                                            onChange={(e) => setDatosCliente({...datosCliente, metodoPago: e.target.value})}
                                            className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none"
                                        >
                                            {business.accepts_cash && <option value="Efectivo">Efectivo</option>}
                                            {business.accepts_transfer && <option value="Transferencia">Transferencia Bancaria</option>}
                                            {business.accepts_tigo_money && <option value="Tigo Money">Tigo Money</option>}
                                            {business.accepts_card && <option value="Tarjeta">Tarjeta</option>}
                                        </select>
                                    </div>

                                    {datosCliente.metodoPago === 'Efectivo' && (
                                        <div>
                                            <label className="block text-gray-700 font-semibold mb-2">¬øCon qu√© billete vas a pagar? *</label>
                                            <input
                                                type="number"
                                                value={datosCliente.billeteAPagar}
                                                onChange={(e) => setDatosCliente({...datosCliente, billeteAPagar: e.target.value})}
                                                className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none"
                                                placeholder={`Ej: ${Math.ceil(calcularTotal() / 100) * 100}`}
                                            />
                                            {datosCliente.billeteAPagar && (
                                                <p className="text-sm text-gray-600 mt-2">
                                                    Cambio: L {(parseFloat(datosCliente.billeteAPagar) - calcularTotal()).toFixed(2)}
                                                </p>
                                            )}
                                        </div>
                                    )}

                                    <div>
                                        <label className="block text-gray-700 font-semibold mb-2">Punto de Referencia / Direcci√≥n *</label>
                                        <textarea
                                            value={datosCliente.referencia}
                                            onChange={(e) => setDatosCliente({...datosCliente, referencia: e.target.value})}
                                            className="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none"
                                            rows="3"
                                            placeholder="Ej: Frente al parque central, casa color verde"
                                        />
                                    </div>

                                    <div className="p-4 rounded-lg border-2" style={{ backgroundColor: `${primaryColor}10`, borderColor: `${primaryColor}40` }}>
                                        <h3 className="font-bold mb-3" style={{ color: primaryColor }}>Resumen del Pedido</h3>
                                        {carrito.map(item => (
                                            <div key={item.id} className="flex justify-between text-sm mb-2">
                                                <span>{item.name} x{item.cantidad}</span>
                                                <span className="font-semibold">L {(parseFloat(item.price) * item.cantidad).toFixed(2)}</span>
                                            </div>
                                        ))}
                                        <div className="border-t-2 mt-3 pt-3 flex justify-between text-lg font-bold"
                                             style={{ borderColor: `${primaryColor}40` }}>
                                            <span>TOTAL:</span>
                                            <span style={{ color: primaryColor }}>L {calcularTotal().toFixed(2)}</span>
                                        </div>
                                    </div>

                                    <button
                                        onClick={generarMensajeWhatsApp}
                                        className="w-full text-white font-bold py-4 rounded-xl transition-colors shadow-lg flex items-center justify-center gap-2"
                                        style={{ backgroundColor: secondaryColor }}
                                    >
                                        <svg className="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
                                        </svg>
                                        Enviar Pedido por WhatsApp
                                    </button>

                                    <p className="text-xs text-gray-500 text-center">
                                        Al confirmar, se abrir√° WhatsApp con tu pedido listo para enviar
                                    </p>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Footer */}
                    <footer className="bg-gray-100 border-t py-4 mt-12">
                        <div className="container mx-auto px-4 text-center text-sm text-gray-600">
                            <p>Powered by <strong>Somar Hub</strong> üá≠üá≥</p>
                        </div>
                    </footer>
                </div>
            );
        }

        ReactDOM.render(<StoreFront />, document.getElementById('root'));
    </script>
</body>
</html>
